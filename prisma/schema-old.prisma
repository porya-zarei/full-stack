generator client {
  provider = "prisma-client-js"
  output = "./generated-client"
}

datasource db {
  provider = "sqlite"
  url      = "file:./app.db"
}

model Product {
  id    String @id @default(uuid())
  name  String
  price String
  date  String
  count Int
  order Order  @relation(fields: [id], references: [id])
}

model User {
  id              String  @id @default(uuid())
  fullName        String?
  email           String  @unique
  password        String
  userName        String  @unique
  role            Int     @default(2)
  joinedAt        String
  phoneNumber     String?
  orders          Order[] @relation(name: "creator")
  ordersToConfirm Order[] @relation(name: "supervisor")
}

model Order {
  id          String    @id @default(uuid())
  user        User      @relation(name: "creator", fields: [id], references: [id])
  supervisor  User      @relation(name: "supervisor", fields: [id], references: [id])
  products    Product[]
  description String
  date        String
  status      Int       @default(0)
  officialBill Boolean   @default(true)
}
